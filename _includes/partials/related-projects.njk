{# Related projects section for blog posts
   Usage: {% include "partials/related-projects.njk" %}
   Requires: relatedProjectIds, collections.projects in scope
#}
{% set relatedProjects = relatedProjectIds | findProjectsByIds(collections.projects) %}

{% if relatedProjects.length > 0 %}
<section class="related-projects mt-12" aria-labelledby="related-projects-heading">
  <h2 id="related-projects-heading" class="text-xl font-black uppercase mb-6">
    <span class="bg-pink-400 px-2 py-1">RELATED</span> PROJECTS
  </h2>

  <div class="grid gap-4 md:grid-cols-2">
    {% for project in relatedProjects %}
    <a href="/projects/{{ project.data.id }}/"
       class="block bg-white border-4 border-black p-4 hover:bg-lime-300 transition-all duration-150 active:translate-y-1"
       style="box-shadow: 6px 6px 0 #000;">
      <h3 class="font-black text-lg uppercase mb-2">{{ project.data.title }}</h3>
      <p class="text-neutral-600 text-sm line-clamp-2">{{ project.data.description }}</p>
    </a>
    {% endfor %}
  </div>
</section>
{% endif %}
